<!DOCTYPE html>
<html>
    <head>
        <title>Web Socket Test</title>
        <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    </head>
    <body>
        <button onclick="connect()">Connect</button>
        <button onclick="disconnect()">DisConnect</button>
        <button onclick="sendPing()">Send Ping</button>
        <div id ="status">Not Connected</div>

        <script>
        let socket;
        function connect() {
            const token = prompt('Enter JWT token:');
    
            socket = io('http://localhost:5000', {
            auth: {
                token: token
            }
            });
    
         socket.on('connect', () => {
            document.getElementById('status').textContent = 'Connected!';
            console.log('Connected to server');
            });

        socket.on('authenticated', (data) => {
            console.log('Authenticated:', data);
        });

        socket.on('disconnect', () => {
            document.getElementById('status').textContent = 'Disconnected';
            console.log('Disconnected from server');
        });
        }
        
        function disconnect() {
            if (socket) {
                socket.disconnect();
            }
        }

        function sendPing() {
            if (socket && socket.connected) {
            socket.emit('ping');
            console.log('ğŸ“ Ping sent');
            } else {
                alert('Not connected!');
        }
        }

        socket.on('pong', (data) => {
            console.log('ğŸ“ Pong received:', data);
        });
        </script>
    </body>
</html>